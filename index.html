<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Special Question...</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Georgia', serif; overflow-x: hidden; background: #0f0f1e; }

        .page { min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px; position: relative; opacity: 0; transition: opacity 1s ease; }
        .page.active { opacity: 1; }
        .page.hidden { display: none; }

        .stars { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; }
        .star { position: absolute; background: white; border-radius: 50%; animation: twinkle 3s infinite; }
        @keyframes twinkle { 0%, 100% { opacity: 0.3; } 50% { opacity: 1; } }

        /* Page backgrounds */
        #page1 { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        #page2 { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        #page3 { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }
        #page4 { background: linear-gradient(135deg, #ff6e7f 0%, #bfe9ff 100%); }
        #page5 { background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); display: none; }

        /* Buttons */
        .start-btn, .next-btn, .yes-btn, .no-btn { cursor: pointer; border: none; font-weight: bold; transition: all 0.3s ease; }
        .start-btn { padding: 15px 40px; font-size: 1.2em; background: white; color: #667eea; border-radius: 50px; }
        .next-btn { padding: 15px 40px; font-size: 1.2em; background: white; color: #fa709a; border-radius: 50px; opacity: 0; pointer-events: none; }
        .next-btn.visible { opacity: 1; pointer-events: all; }
        .yes-btn { background: white; color: #ff6e7f; padding: 25px 80px; font-size: 2em; border-radius: 50px; }
        .no-btn { background: rgba(255,255,255,0.2); color: white; padding: 10px 30px; font-size: 0.9em; position: fixed; border-radius: 50px; }

        /* Hearts */
        .heart-container { display: grid; grid-template-columns: repeat(3, 100px); gap: 20px; margin: 0 auto 40px; justify-content: center; }
        .heart { width: 100px; height: 100px; font-size: 60px; cursor: pointer; filter: grayscale(100%); opacity: 0.5; transition: all 0.3s ease; }
        .heart:hover { transform: scale(1.2); }
        .heart.clicked { filter: grayscale(0%); opacity: 1; animation: heartbeat 0.5s ease; }
        @keyframes heartbeat { 0%, 100% { transform: scale(1); } 25% { transform: scale(1.3); } 50% { transform: scale(1.1); } 75% { transform: scale(1.2); } }

        /* Page 4 big heart */
        .big-heart { font-size: 150px; margin-bottom: 30px; animation: pulse 2s ease-in-out infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }

        @media (max-width: 768px) {
            .welcome-content h1 { font-size: 2.5em; }
            .question-content h2 { font-size: 2em; }
            .heart-container { grid-template-columns: repeat(3, 80px); gap: 15px; }
            .heart { width: 80px; height: 80px; font-size: 50px; }
        }
    </style>
</head>
<body>
    <!-- AUDIO FILES -->
    <audio id="audio1" src="page1.mp3" loop></audio>
    <audio id="audio2" src="page2.mp3" loop></audio>
    <audio id="audio3" src="page3.mp3" loop></audio>
    <audio id="audio4" src="page4.mp3" loop></audio>
    <audio id="audio5" src="raindance.mp3"></audio>

    <!-- Stars -->
    <div class="stars" id="stars"></div>

    <!-- Page 1 -->
    <div id="page1" class="page active">
        <div class="welcome-content" style="text-align:center; color:white;">
            <h1>Hey qt ğŸ’•</h1>
            <p>Made something for you</p>
            <button class="start-btn" onclick="startPage1()">ğŸ‘€</button>
        </div>
    </div>

    <!-- Page 2 -->
    <div id="page2" class="page">
        <div class="distance-content" style="text-align:center; color:white;">
            <h2>Two Islands ğŸï¸</h2>
            <p>Different time zones... But you're always on my mind ğŸ’­</p>
            <button class="start-btn" onclick="goToPage(3)">â†’</button>
        </div>
    </div>

    <!-- Page 3 -->
    <div id="page3" class="page">
        <div class="hearts-content" style="text-align:center; color:white;">
            <h2>Why I like you ğŸ˜</h2>
            <div class="heart-container">
                <div class="heart" onclick="clickHeart(this)">â¤ï¸</div>
                <div class="heart" onclick="clickHeart(this)">ğŸ’–</div>
                <div class="heart" onclick="clickHeart(this)">ğŸ’•</div>
                <div class="heart" onclick="clickHeart(this)">ğŸ’—</div>
                <div class="heart" onclick="clickHeart(this)">ğŸ’“</div>
                <div class="heart" onclick="clickHeart(this)">ğŸ’</div>
            </div>
            <button class="next-btn" id="nextBtn" onclick="goToPage(4)">â†’</button>
        </div>
    </div>

    <!-- Page 4 -->
    <div id="page4" class="page">
        <div class="question-content" style="text-align:center; color:white;">
            <div class="big-heart">ğŸ’–</div>
            <h2>Â¿Quieres ser mi Valentine?</h2>
            <div class="answer-buttons">
                <button class="yes-btn" onclick="sayYes()">SÃ! ğŸ’•</button>
                <button class="no-btn" onmouseover="runAway(this)" onclick="runAway(this)">No</button>
            </div>
        </div>
    </div>

    <!-- Page 5 -->
    <div id="page5" class="page">
        <div class="celebration-content" style="text-align:center; color:#ff6e7f;">
            <h2>ğŸ‰ WEPAAA! ğŸ‰</h2>
            <p>Â¡You just made me the happiest man alive! ğŸ˜</p>
        </div>
    </div>

    <script>
        // Stars animation
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.width = Math.random() * 3 + 'px';
                star.style.height = star.style.width;
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                starsContainer.appendChild(star);
            }
        }

        createStars();

        // Start page1 audio after user click
        function startPage1() {
            const audio1 = document.getElementById('audio1');
            audio1.play().catch(err => console.log('Audio blocked:', err));
            goToPage(2); // move to page 2 if needed
        }

        // Page navigation
        function goToPage(pageNum) {
            const pages = document.querySelectorAll('.page');
            for (let i = 1; i <= 5; i++) {
                const audio = document.getElementById('audio'+i);
                if(audio) { audio.pause(); audio.currentTime = 0; }
            }

            pages.forEach(page => page.classList.remove('active'));
            pages.forEach(page => page.classList.add('hidden'));

            const targetPage = document.getElementById('page'+pageNum);
            targetPage.classList.remove('hidden');
            setTimeout(() => {
                targetPage.classList.add('active');
                const audio = document.getElementById('audio'+pageNum);
                if(audio) { audio.play().catch(err => console.log('Audio play failed:', err)); }
            }, 50);
        }

        // Hearts functionality
        let clickedHearts = 0;
        function clickHeart(heart) {
            if(!heart.classList.contains('clicked')) {
                heart.classList.add('clicked');
                clickedHearts++;
                if(clickedHearts === 6) document.getElementById('nextBtn').classList.add('visible');
            }
        }

        // No button runs away
        let noButtonMoved = false;
        function runAway(button) {
            const maxX = window.innerWidth - button.offsetWidth - 50;
            const maxY = window.innerHeight - button.offsetHeight - 50;
            const randomX = Math.max(50, Math.random()*maxX);
            const randomY = Math.max(50, Math.random()*maxY);
            button.style.position = 'fixed';
            button.style.left = randomX + 'px';
            button.style.top = randomY + 'px';
            button.style.transition = 'all 0.2s ease';
            if(!noButtonMoved) { noButtonMoved = true; button.textContent = "No? ğŸ¤¨"; } 
            else { button.style.fontSize='0.8em'; button.style.padding='8px 20px'; button.textContent="Segura? ğŸ¥º"; }
        }

        // Yes button celebration
        function sayYes() {
            for(let i=1;i<=4;i++) { const audio=document.getElementById('audio'+i); if(audio){ audio.pause(); audio.currentTime=0; } }
            const celebrationAudio = document.getElementById('audio5');
            if(celebrationAudio){ celebrationAudio.play().catch(err=>console.log('Audio play failed:',err)); }
            document.getElementById('page5').style.display='flex';
            goToPage(5);
        }
    </script>
</body>
</html>
